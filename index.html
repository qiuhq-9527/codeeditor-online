<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <script src="https://cdn.jsdelivr.net/npm/less@4.2.0/dist/less.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ace.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ext-language_tools.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <script src="aceEditor.js"></script>
  <script src="codeRunner.js"></script>
</head>

<body>
  <div class="container">

    <div class="title">
      <div>LonAC Coding Editor</div>
      <div class="theme-switcher">
        <div class="theme-option" data-theme="light" title="浅色主题"></div>
        <div class="theme-option" data-theme="dark" title="深色主题"></div>
        <div class="theme-option" data-theme="auto" title="跟随系统"></div>
      </div>
    </div>

    <div class="content">
      <!-- 代码编写区 -->
      <div class="content-code">
        <div class="code-title">
          <svg xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" data-prefix="far"
            data-icon="code"
            class="svg-inline--fa fa-code absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]"
            role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="18" height="14.4">
            <path fill="#02B128"
              d="M399.1 1.1c-12.7-3.9-26.1 3.1-30 15.8l-144 464c-3.9 12.7 3.1 26.1 15.8 30s26.1-3.1 30-15.8l144-464c3.9-12.7-3.1-26.1-15.8-30zm71.4 118.5c-9.1 9.7-8.6 24.9 1.1 33.9L580.9 256 471.6 358.5c-9.7 9.1-10.2 24.3-1.1 33.9s24.3 10.2 33.9 1.1l128-120c4.8-4.5 7.6-10.9 7.6-17.5s-2.7-13-7.6-17.5l-128-120c-9.7-9.1-24.9-8.6-33.9 1.1zm-301 0c-9.1-9.7-24.3-10.2-33.9-1.1l-128 120C2.7 243 0 249.4 0 256s2.7 13 7.6 17.5l128 120c9.7 9.1 24.9 8.6 33.9-1.1s8.6-24.9-1.1-33.9L59.1 256 168.4 153.5c9.7-9.1 10.2-24.3 1.1-33.9z">
            </path>
          </svg>
          <span>代码</span>
        </div>
      </div>

      <div class="content-data">
        <!-- 数据输入区 -->
        <div class="content-input">
          <div class="input-title">
            <svg xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" data-prefix="far"
              data-icon="square-check"
              class="svg-inline--fa fa-square-check absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]"
              role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="16" height="18.29">
              <path fill="#02B128"
                d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z">
              </path>
            </svg>
            <span>输入</span>
          </div>

          <form class="input-form" id="inputForm">
            <textarea class="content-input-textarea" name="inputData" placeholder="请输入数据"></textarea>
            <button type="submit" class="run-button">
              <svg xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="play"
                class="svg-inline--fa fa-play absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]"
                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="10" height="13.33">
                <path fill="#FFFFFF"
                  d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"
                  fill-opacity="0.6"></path>
              </svg>
              <span>运行</span>
            </button>
          </form>
        </div>
        <!-- 编译或执行结果区 -->
        <div class="content-output">
          <div class="output-title">
            <svg xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" data-prefix="far"
              data-icon="terminal"
              class="svg-inline--fa fa-terminal absolute left-1/2 top-1/2 h-[1em] -translate-x-1/2 -translate-y-1/2 align-[-0.125em]"
              role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="16" height="14.22">
              <path fill="#02B128"
                d="M6.3 72.2c-9-9.8-8.3-24.9 1.4-33.9s24.9-8.3 33.9 1.4l184 200c8.5 9.2 8.5 23.3 0 32.5l-184 200c-9 9.8-24.2 10.4-33.9 1.4s-10.4-24.2-1.4-33.9L175.4 256 6.3 72.2zM248 432H552c13.3 0 24 10.7 24 24s-10.7 24-24 24H248c-13.3 0-24-10.7-24-24s10.7-24 24-24z">
              </path>
            </svg>
            <span>输出</span>
          </div>
          <div class="output-content-container">
            <div class="output-content empty" id="outputContent">请运行代码</div>
          </div>
        </div>
      </div>
    </div>

  </div>


</body>

<script>
  // 主题管理
  class ThemeManager {
    constructor() {
      this.currentTheme = localStorage.getItem("theme") || "auto";
      this.init();
    }

    init() {
      this.applyTheme(this.currentTheme);

      document.querySelectorAll(".theme-option").forEach((option) => {
        option.addEventListener("click", () => {
          const theme = option.getAttribute("data-theme");
          this.setTheme(theme);
        });
      });

      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (e) => {
          if (this.currentTheme === "auto") {
            this.applyTheme("auto");
          }
        });
    }

    setTheme(theme) {
      this.currentTheme = theme;
      localStorage.setItem("theme", theme);
      this.applyTheme(theme);
    }

    applyTheme(theme) {
      document.documentElement.removeAttribute("data-theme");

      if (theme === "auto") {
        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        if (systemPrefersDark) {
          document.documentElement.setAttribute("data-theme", "dark");
        } else {
          document.documentElement.setAttribute("data-theme", "light");
        }
      } else {
        document.documentElement.setAttribute("data-theme", theme);
      }
    }
  }

  // 初始化
  document.addEventListener("DOMContentLoaded", () => {
    new ThemeManager();
  });
</script>



</html>