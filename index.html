<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <script src="https://cdn.jsdelivr.net/npm/less@4.2.0/dist/less.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ace.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ext-language_tools.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <script src="aceEditor.js"></script>
  <script src="codeRunner.js"></script>
</head>

<body>
  <div class="container">

    <div class="title">
      <div>LonAC Coding Editor</div>
      <div class="theme-switcher">
        <div class="theme-option" data-theme="light" title="浅色主题"></div>
        <div class="theme-option" data-theme="dark" title="深色主题"></div>
        <div class="theme-option" data-theme="auto" title="跟随系统"></div>
      </div>
    </div>

    <div class="content">
      <!-- 代码编写区 -->
      <div class="content-code">
        <div class="code-title">
          <span>代码</span>
        </div>
      </div>

      <div class="content-data">
        <!-- 数据输入区 -->
        <div class="content-input">
          <div class="input-title">
            <span>输入</span>
          </div>

          <form class="input-form" id="inputForm">
            <textarea class="content-input-textarea" name="inputData" placeholder="请输入数据"></textarea>
            <button type="submit" class="run-button">
              <span>运行</span>
            </button>
          </form>
        </div>
        <!-- 编译或执行结果区 -->
        <div class="content-output">
          <div class="output-title">
            <span>输出</span>
          </div>
          <div class="output-content-container">
            <div class="output-content empty" id="outputContent">请运行代码</div>
          </div>
        </div>
      </div>
    </div>

  </div>


</body>

<script>
  // 主题管理
  class ThemeManager {
    constructor() {
      this.currentTheme = localStorage.getItem("theme") || "auto";
      this.init();
    }

    init() {
      this.applyTheme(this.currentTheme);

      document.querySelectorAll(".theme-option").forEach((option) => {
        option.addEventListener("click", () => {
          const theme = option.getAttribute("data-theme");
          this.setTheme(theme);
        });
      });

      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (e) => {
          if (this.currentTheme === "auto") {
            this.applyTheme("auto");
          }
        });
    }

    setTheme(theme) {
      this.currentTheme = theme;
      localStorage.setItem("theme", theme);
      this.applyTheme(theme);
    }

    applyTheme(theme) {
      document.documentElement.removeAttribute("data-theme");

      if (theme === "auto") {
        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        if (systemPrefersDark) {
          document.documentElement.setAttribute("data-theme", "dark");
        } else {
          document.documentElement.setAttribute("data-theme", "light");
        }
      } else {
        document.documentElement.setAttribute("data-theme", theme);
      }
    }
  }

  // 初始化
  document.addEventListener("DOMContentLoaded", () => {
    new ThemeManager();
  });
</script>



</html>